<?xml version="1.0"?>
<application>
	<name>find_not_processed</name>
	<category>Miscellaneous</category>
	<description>finds files in a directory which are not listed in a log file.</description>
	<options>
		<option has_argument="0" required="0">
                        <name>help</name>
                        <short>h</short>
                        <long>help</long>
                        <description>print usage message and exit</description>
                </option>
		<option has_argument="1" required="1">
			<name>directory</name>
			<short>d</short>
			<long>directory</long>
			<description>look for files in DIR</description>
		</option>
		<option has_argument="1" required="1">
			<name>logfile</name>
			<short>l</short>
			<long>logfile</long>
			<description>compare directory against files in FILE</description>
		</option>
		<option has_argument="0" required="0">
			<name>print_directory</name>
			<short>p</short>
			<long>print-dir</long>
			<description>print the full file path (default: just the name)</description>
		</option>
		<option has_argument="1" required="0">
			<name>glob</name>
			<short>g</short>
			<long>glob</long>
			<description>only look for files matching this glob</description>
		</option>
		<option has_argument="1" required="0">
			<name>regex</name>
			<short>r</short>
			<long>regex</long>
			<description>only look for files matching this regex</description>
		</option>
	</options>
	<details>
		<item>-g and -r are mutually exclusive - if both are specified,
		the regex will be used.  If neither are specified, all files in
		the directory will be considered.</item>
	</details>
	<example><![CDATA[
log_file=$wdir/processed_files.log

files=`find_not_processed -l $log_file -d $dt_dir -g 'Activity_*.log.gz'`
for f in $files; do
	# ...
	echo $f >> $log_file
done
]]></example>
</application>
